# ~/.screenrc
# My configuration for GNU/screen
#

# UTF-8 is neat
defutf8 on
utf8 on on
# Yeah, yeah, I've read it a thousand times already
startup_message off
# My computer has more backscroll memory than my brain, might as well use it
defscrollback 3000

# The shell should be started as a "login" shell
#shell -$SHELL
shell -/bin/bash

# Attention grabbers
activity "Activity in window %n"
bell_msg "Ding-a-ling in window %n!^G"

# Use audible bell
vbell off

# Attempt to function better on unstable ssh connections
nonblock on

# Lock screen after 12 minutes of inactivity
#idle 720 lockscreen

# Let C-g abort C-a, instead of toggling vbell
bind ^g echo "Aborted"

# Use shift-up and shift-down for scrolling. Requires changes to .Xresources if
# you use xterm or something similar. Info:
# http://aperiodic.net/screen/interface#xterm-style_scrolling
bindkey "^[[5;2~" eval "copy" "stuff ^u"
bindkey -m "^[[5;2~" stuff ^u
bindkey -m "^[[6;2~" stuff ^d

caption always "%?%F%{= bw}%:%{= bk}%?[%c:%s] %-Lw%{+b}%10L>%n%f* %t%{-b}%+Lw%=%H%{dd}"
# Highlight window titles that want attention with brigh red
rendition bell br
rendition monitor br
rendition silence br

# Standout rendition, including vertical bar, is bold green on black background
rendition so "=b kg"

# A "screen scraper" that shows you a list of all urls on the screen, and
# allows you to quickly open it in your browser. I've tried to make it fairly
# secure, but it is still vulnerable to symlink attacks
bind ^B eval "hardcopy_append off" "hardcopy /tmp/.screen-urlview-$USER" "screen -t urlview sh -c 'chmod 600 /tmp/.screen-urlview-$USER; urlview /tmp/.screen-urlview-$USER; rm -f /tmp/.screen-urlview-$USER'"

# Enable 256 colors
# http://robotsrule.us/vim/
attrcolor b ".I"
termcapinfo xterm 'Co#256:AB=\E[48;5;%dm:AF=\E38;5;%dm'
defbce "on"
